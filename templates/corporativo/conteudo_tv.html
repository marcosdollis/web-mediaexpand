<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=1920, height=1080, initial-scale=1.0, user-scalable=no">
<title>MediaExpand TV â€” {{ conteudo_tipo }}</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<style>
* { margin:0; padding:0; box-sizing:border-box; }
html, body { width:1920px; height:1080px; overflow:hidden; font-family:'Inter',sans-serif; }

/* â”€â”€ VARIÃVEIS â”€â”€ */
:root {
    --brand: #00d4ff;
    --cyan: #00e5ff;
    --red: #e74c3c;
    --green: #2ecc71;
    --yellow: #f1c40f;
    --white: #ffffff;
    --gray: #a0aec0;
    --glass-bg: rgba(255,255,255,0.06);
    --glass-border: rgba(255,255,255,0.12);
}

/* â”€â”€ BACKGROUNDS â”€â”€ */
.bg-weather    { background: linear-gradient(135deg, #1e3c72, #2a5298, #4a90d9); }
.bg-cotacoes   { background: linear-gradient(135deg, #0f0c29, #302b63, #24243e); }
.bg-noticias   { background: linear-gradient(135deg, #1a1a2e, #16213e, #0f3460); }

.fullscreen {
    width: 1920px;
    height: 1080px;
    display: flex;
    flex-direction: column;
    color: var(--white);
    position: relative;
}

/* â”€â”€ HEADER BAR â”€â”€ */
.header-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 16px 40px;
    background: rgba(0,0,0,0.35);
    backdrop-filter: blur(8px);
    border-bottom: 1px solid rgba(255,255,255,0.1);
    flex-shrink: 0;
}
.header-brand { font-size: 22px; font-weight: 800; letter-spacing: 2px; color: var(--brand); }
.header-datetime { font-size: 18px; font-weight: 500; color: var(--gray); }

/* â”€â”€ FOOTER â”€â”€ */
.footer-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 12px 40px;
    background: rgba(0,0,0,0.35);
    backdrop-filter: blur(8px);
    border-top: 1px solid rgba(255,255,255,0.1);
    font-size: 14px;
    color: var(--gray);
    display: flex;
    justify-content: space-between;
}

/* â”€â”€ GLASS CARD â”€â”€ */
.glass {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 14px;
    backdrop-filter: blur(6px);
}

/* â”€â”€ CONTEÃšDO CENTRAL â”€â”€ */
.content-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 30px 50px;
    overflow: hidden;
}
.content-title {
    text-align: center;
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 10px;
}
.content-divider {
    width: 100%;
    height: 1px;
    background: rgba(255,255,255,0.15);
    margin-bottom: 20px;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PREVISÃƒO DO TEMPO
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.weather-main {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 80px;
    margin-bottom: 40px;
}

.weather-icon { font-size: 180px; color: var(--yellow); text-shadow: 0 0 50px rgba(241,196,0,0.4); }
.weather-temp { font-size: 160px; font-weight: 900; line-height: 1; }
.weather-temp span { font-size: 70px; font-weight: 400; vertical-align: super; }
.weather-desc { font-size: 36px; font-weight: 500; color: var(--gray); margin-top: 10px; }
.weather-city { font-size: 42px; font-weight: 600; text-align: center; margin-bottom: 35px; }

.weather-details {
    display: flex;
    gap: 60px;
    justify-content: center;
    margin-bottom: 40px;
    font-size: 28px;
}
.weather-details i { margin-right: 10px; color: var(--cyan); font-size: 30px; }

.forecast-row {
    display: flex;
    gap: 25px;
    justify-content: center;
    padding: 0 40px;
}
.forecast-card {
    text-align: center;
    padding: 20px 28px;
    min-width: 180px;
}
.forecast-card .day { font-size: 18px; font-weight: 600; margin-bottom: 8px; }
.forecast-card .icon { font-size: 32px; margin-bottom: 6px; }
.forecast-card .temps { font-size: 22px; font-weight: 700; }
.forecast-card .temps .low { color: var(--cyan); }
.forecast-card .temps .high { color: var(--yellow); }
.forecast-card .desc { font-size: 14px; color: var(--gray); margin-top: 4px; }
.forecast-card .rain { font-size: 13px; color: var(--cyan); margin-top: 2px; }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   COTAÃ‡Ã•ES
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.quotes-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 18px;
    flex: 1;
}
.quote-card {
    padding: 18px 22px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: relative;
    overflow: hidden;
}
.quote-badge {
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 4px;
}
.badge-moeda    { color: var(--brand); }
.badge-cripto   { color: var(--cyan); }
.badge-indice   { color: var(--yellow); }
.badge-commodity{ color: var(--green); }

.quote-code { font-size: 28px; font-weight: 800; margin-bottom: 2px; }
.quote-name { font-size: 16px; color: var(--gray); }
.quote-value {
    font-size: 28px;
    font-weight: 700;
    text-align: right;
    margin-top: 8px;
}
.quote-brl {
    font-size: 14px;
    color: var(--gray);
    text-align: right;
}
.quote-var {
    font-size: 20px;
    font-weight: 700;
    text-align: right;
    margin-top: 4px;
}
.var-up   { color: var(--green); }
.var-down { color: var(--red); }
.var-stable { color: var(--gray); }

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   NOTÃCIAS
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.news-list {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 14px;
}
.news-item {
    display: flex;
    align-items: flex-start;
    padding: 18px 24px;
    position: relative;
}
.news-item::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    width: 5px;
    background: var(--red);
    border-radius: 3px;
}
.news-number {
    font-size: 30px;
    font-weight: 900;
    color: var(--red);
    margin-right: 20px;
    min-width: 50px;
    text-align: center;
}
.news-text { flex: 1; }
.news-headline {
    font-size: 24px;
    font-weight: 600;
    line-height: 1.3;
}
.news-source {
    font-size: 15px;
    color: var(--gray);
    margin-top: 4px;
}
</style>
</head>
<body>

{% if conteudo_tipo == 'PREVISAO_TEMPO' %}
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     PREVISÃƒO DO TEMPO
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="fullscreen bg-weather">
    <div class="header-bar">
        <div class="header-brand">MEDIAEXPAND</div>
        <div class="header-datetime"><i class="far fa-clock" style="margin-right:8px;"></i><span id="clock"></span></div>
    </div>
    <div class="content-area">
        <div class="weather-city">
            <i class="fas fa-map-marker-alt" style="margin-right:10px;color:var(--red);"></i>
            {{ dados.cidade|default:"â€”" }} {% if dados.estado %}â€” {{ dados.estado }}{% endif %}
        </div>

        <div class="weather-main">
            <div class="weather-icon">
                {% if dados.atual.icone_emoji %}{{ dados.atual.icone_emoji }}{% else %}<i class="fas fa-cloud-sun"></i>{% endif %}
            </div>
            <div>
                {% if dados.atual.temperatura is not None %}
                <div class="weather-temp">{{ dados.atual.temperatura }}<span>Â°C</span></div>
                {% else %}
                <div class="weather-temp">â€”<span>Â°C</span></div>
                {% endif %}
                <div class="weather-desc">{{ dados.atual.descricao|default:"" }}</div>
            </div>
        </div>

        <div class="weather-details">
            {% if dados.atual.umidade is not None %}
            <span><i class="fas fa-tint"></i>Umidade: {{ dados.atual.umidade }}%</span>
            {% endif %}
            {% if dados.atual.vento_kmh is not None %}
            <span><i class="fas fa-wind"></i>Vento: {{ dados.atual.vento_kmh }} km/h</span>
            {% endif %}
        </div>

        {% if dados.previsao %}
        <div class="forecast-row">
            {% for dia in dados.previsao|slice:":5" %}
            <div class="forecast-card glass">
                <div class="day">{{ dia.data }}</div>
                <div class="icon">{% if dia.icone_emoji %}{{ dia.icone_emoji }}{% else %}ğŸŒ¤{% endif %}</div>
                <div class="temps"><span class="low">{{ dia.min }}Â°</span> / <span class="high">{{ dia.max }}Â°</span></div>
                <div class="desc">{{ dia.descricao }}</div>
                {% if dia.precipitacao_pct %}<div class="rain"><i class="fas fa-umbrella"></i> {{ dia.precipitacao_pct }}%</div>{% endif %}
            </div>
            {% endfor %}
        </div>
        {% endif %}
    </div>
    <div class="footer-bar">
        <span>Fonte: Open-Meteo</span>
        <span>Atualizado: {{ dados.atualizado_em|default:"â€”" }}</span>
    </div>
</div>

{% elif conteudo_tipo == 'COTACOES' %}
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     COTAÃ‡Ã•ES
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="fullscreen bg-cotacoes">
    <div class="header-bar">
        <div class="header-brand">MEDIAEXPAND</div>
        <div class="header-datetime"><i class="far fa-clock" style="margin-right:8px;"></i><span id="clock"></span></div>
    </div>
    <div class="content-area">
        <div class="content-title"><i class="fas fa-chart-line" style="margin-right:14px;"></i>CotaÃ§Ãµes em Tempo Real</div>
        <div class="content-divider"></div>
        <div class="quotes-grid">
            {% for m in dados.moedas %}
            <div class="quote-card glass">
                <div>
                    <div class="quote-badge badge-moeda">MOEDA</div>
                    <div class="quote-code">{{ m.codigo }}</div>
                    <div class="quote-name">{{ m.nome }}</div>
                </div>
                <div>
                    <div class="quote-value">R$ {{ m.valor|floatformat:2 }}</div>
                    {% if m.variacao_pct is not None %}
                    <div class="quote-var {% if m.direcao == 'up' %}var-up{% elif m.direcao == 'down' %}var-down{% else %}var-stable{% endif %}">
                        {% if m.direcao == 'up' %}â–²{% elif m.direcao == 'down' %}â–¼{% else %}â€”{% endif %}
                        {{ m.variacao_pct }}%
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}

            {% for c in dados.cripto %}
            <div class="quote-card glass">
                <div>
                    <div class="quote-badge badge-cripto">CRIPTO</div>
                    <div class="quote-code">{{ c.codigo }}</div>
                    <div class="quote-name">{{ c.nome }}</div>
                </div>
                <div>
                    <div class="quote-value">R$ {{ c.valor|floatformat:2 }}</div>
                    {% if c.variacao_pct is not None %}
                    <div class="quote-var {% if c.direcao == 'up' %}var-up{% elif c.direcao == 'down' %}var-down{% else %}var-stable{% endif %}">
                        {% if c.direcao == 'up' %}â–²{% elif c.direcao == 'down' %}â–¼{% else %}â€”{% endif %}
                        {{ c.variacao_pct }}%
                    </div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}

            {% for idx in dados.indices %}
            <div class="quote-card glass">
                <div>
                    <div class="quote-badge badge-indice">ÃNDICE</div>
                    <div class="quote-code">{{ idx.codigo }}</div>
                    <div class="quote-name">{{ idx.nome }}</div>
                </div>
                <div>
                    <div class="quote-value">{% if idx.valor %}{{ idx.valor|floatformat:0 }} pts{% else %}â€”{% endif %}</div>
                    {% if idx.variacao_pct is not None %}
                    <div class="quote-var {% if idx.direcao == 'up' %}var-up{% elif idx.direcao == 'down' %}var-down{% else %}var-stable{% endif %}">
                        {% if idx.direcao == 'up' %}â–²{% elif idx.direcao == 'down' %}â–¼{% else %}â€”{% endif %}
                        {{ idx.variacao_pct }}%
                    </div>
                    {% else %}
                    <div class="quote-var var-stable">â€”</div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}

            {% for comm in dados.commodities %}
            <div class="quote-card glass">
                <div>
                    <div class="quote-badge badge-commodity">COMMODITY</div>
                    <div class="quote-code">{{ comm.codigo }}</div>
                    <div class="quote-name">{{ comm.nome }}</div>
                </div>
                <div>
                    <div class="quote-value">{% if comm.valor %}$ {{ comm.valor|floatformat:2 }}{% else %}â€”{% endif %}</div>
                    {% if comm.valor_brl %}<div class="quote-brl">â‰ˆ R$ {{ comm.valor_brl|floatformat:2 }}</div>{% endif %}
                    {% if comm.variacao_pct is not None %}
                    <div class="quote-var {% if comm.direcao == 'up' %}var-up{% elif comm.direcao == 'down' %}var-down{% else %}var-stable{% endif %}">
                        {% if comm.direcao == 'up' %}â–²{% elif comm.direcao == 'down' %}â–¼{% else %}â€”{% endif %}
                        {{ comm.variacao_pct }}%
                    </div>
                    {% else %}
                    <div class="quote-var var-stable">â€”</div>
                    {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="footer-bar">
        <span>Fontes: AwesomeAPI â€¢ Yahoo Finance</span>
        <span>Atualizado: {{ dados.atualizado_em|default:"â€”" }}</span>
    </div>
</div>

{% elif conteudo_tipo == 'NOTICIAS' %}
<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     NOTÃCIAS
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div class="fullscreen bg-noticias">
    <div class="header-bar">
        <div class="header-brand">MEDIAEXPAND</div>
        <div class="header-datetime"><i class="far fa-clock" style="margin-right:8px;"></i><span id="clock"></span></div>
    </div>
    <div class="content-area">
        <div class="content-title"><i class="fas fa-newspaper" style="margin-right:14px;"></i>NotÃ­cias do Brasil</div>
        <div class="content-divider"></div>
        <div class="news-list">
            {% if dados.manchetes %}
                {% for n in dados.manchetes|slice:":7" %}
                <div class="news-item glass">
                    <div class="news-number">{{ forloop.counter|stringformat:"02d" }}</div>
                    <div class="news-text">
                        <div class="news-headline">{{ n.titulo }}</div>
                        <div class="news-source">{{ n.fonte }}{% if n.publicado_em %} â€” {{ n.publicado_em }}{% endif %}</div>
                    </div>
                </div>
                {% endfor %}
            {% else %}
            <div style="text-align:center;margin-top:100px;opacity:.5;">
                <i class="fas fa-satellite-dish" style="font-size:60px;"></i>
                <p style="font-size:24px;margin-top:20px;">Nenhuma notÃ­cia disponÃ­vel no momento</p>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="footer-bar">
        <span>Fonte: Google News</span>
        <span>Atualizado: {{ dados.atualizado_em|default:"â€”" }}</span>
    </div>
</div>
{% endif %}

<script>
// RelÃ³gio em tempo real
function updateClock() {
    var now = new Date();
    var dias = ['Domingo','Segunda','TerÃ§a','Quarta','Quinta','Sexta','SÃ¡bado'];
    var meses = ['Jan','Fev','Mar','Abr','Mai','Jun','Jul','Ago','Set','Out','Nov','Dez'];
    var str = dias[now.getDay()] + ', ' +
              now.getDate() + ' ' + meses[now.getMonth()] + ' ' + now.getFullYear() + '  â€¢  ' +
              ('0'+now.getHours()).slice(-2) + ':' + ('0'+now.getMinutes()).slice(-2) + ':' + ('0'+now.getSeconds()).slice(-2);
    var el = document.getElementById('clock');
    if (el) el.textContent = str;
}
updateClock();
setInterval(updateClock, 1000);
</script>
</body>
</html>
